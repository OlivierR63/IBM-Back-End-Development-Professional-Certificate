# 1. Base Image: We start from the base Ubuntu image you are currently using.
FROM ubuntu:latest

# 2. Update and install system dependencies (Python, pip, venv).
# The 'DEBIAN_FRONTEND=noninteractive' prevents prompting during installation.
RUN apt update && \
    DEBIAN_FRONTEND=noninteractive apt install -y \
    python3 \
    python3-pip \
    python3-venv \
    libpq-dev \
    # Clean up to reduce the final image size
    && rm -rf /var/lib/apt/lists/*

# 3. Create a working directory inside the container.
# This is where your project files will reside.
WORKDIR /app

# 4. Copy your project files from the host (Windows) into the container's working directory (/app).
# This assumes the Dockerfile is placed in the root of your Django project.
COPY . /app

# 5. Install Python dependencies (Uncomment if you use a requirements.txt file)
# RUN pip3 install -r requirements.txt

# 6. Define the default command/entrypoint for the container.
# This ensures a Bash shell starts when the container is run interactively.
CMD ["/bin/bash"]